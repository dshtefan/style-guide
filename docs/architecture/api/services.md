---
sidebar_position: 3
---

# –í—ã–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API

**–í—ã–¥–µ–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤** ‚Äî —ç—Ç–æ –ø—Ä–∏–Ω—Ü–∏–ø —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–ª–æ—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ —Å–µ—Ä–≤–µ—Ä—É. –í —ç—Ç–æ–º —Å–ª–æ–µ –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –ª–æ–≥–∏–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤, –∏—Ö –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏, –æ—Å—Ç–∞–≤–∏–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —á–∏—Å—Ç—ã–º–∏ –∏ —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ UI.

---

### üéØ –ó–∞—á–µ–º –≤—ã–Ω–æ—Å–∏—Ç—å API –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã?

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ—Ç–≤–µ—á–∞—é—Ç —Ç–æ–ª—å–∫–æ –∑–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ, –∞ —Ä–∞–±–æ—Ç–∞ —Å API —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–µ–Ω–∞ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ (Separation of Concerns üöÄ).
2. **–ü–æ–≤—ã—à–∞–µ–º –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å**: –õ–æ–≥–∏–∫—É –∑–∞–ø—Ä–æ—Å–æ–≤ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
3. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –°–µ—Ä–≤–∏—Å—ã –ø—Ä–æ—â–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç UI.
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏–ª–∏ API –≤—ã–∑–æ–≤–æ–≤ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–µ–Ω–µ–µ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç–Ω—ã–º.

---

### üîë –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

1. –í—Å–µ API –≤—ã–∑–æ–≤—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è –ø–æ –¥–æ–º–µ–Ω–∞–º/—Ñ–∏—á–∞–º. –ù–∞–ø—Ä–∏–º–µ—Ä, –∑–∞–ø—Ä–æ—Å—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º —Å–µ—Ä–≤–∏—Å–µ, –∞ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∑–∞–¥–∞—á (todos) ‚Äî –≤ –¥—Ä—É–≥–æ–º.
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **Redux Toolkit Query (RTK Query)** –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–¥–æ–±–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∏ –º—É—Ç–∞—Ü–∏—è–º–∏. –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `createApi`.
3. –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–π –µ–¥–∏–Ω–∏—Ü–µ–π, –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º–æ–π –≤ –ª—é–±–æ–π –º–æ–¥—É–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

### ‚úÖ –ü—Ä–∏–º–µ—Ä —Ö–æ—Ä–æ—à–µ–π –ø—Ä–∞–∫—Ç–∏–∫–∏ (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º RTK Query)

–°–æ–∑–¥–∞–¥–∏–º –¥–≤–∞ —Ä–∞–∑–Ω—ã—Ö API-—Å–µ—Ä–≤–∏—Å–∞: –æ–¥–∏–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å **–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏**, –≤—Ç–æ—Ä–æ–π ‚Äî –¥–ª—è **–∑–∞–¥–∞—á (TODOs)**.

#### 1Ô∏è‚É£ –°–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (User API)

```tsx
// services/userApi.ts
import { createApi, fetchBaseQuery } from "@reduxjs/toolkit/query/react";

export const userApi = createApi({
  reducerPath: "userApi",
  baseQuery: fetchBaseQuery({
    baseUrl: "https://example.com/api",
  }),
  tagTypes: ["User"],
  endpoints: (builder) => ({
    getUserById: builder.query({
      query: (id: string) => `users/${id}`,
      providesTags: (result, error, id) => [{ type: "User", id }],
    }),
    updateUser: builder.mutation({
      query: ({ id, ...data }) => ({
        url: `users/${id}`,
        method: "PUT",
        body: data,
      }),
      invalidatesTags: (result, error, { id }) => [{ type: "User", id }],
    }),
  }),
});

export const { useGetUserByIdQuery, useUpdateUserMutation } = userApi;
```

#### 2Ô∏è‚É£ –°–µ—Ä–≤–∏—Å –¥–ª—è TODO (Task API)

```tsx
// services/todoApi.ts
import { createApi, fetchBaseQuery } from "@reduxjs/toolkit/query/react";

export const todoApi = createApi({
  reducerPath: "todoApi",
  baseQuery: fetchBaseQuery({
    baseUrl: "https://example.com/api",
  }),
  tagTypes: ["Todo"],
  endpoints: (builder) => ({
    getTodos: builder.query({
      query: () => "todos",
      providesTags: ["Todo"],
    }),
    addTodo: builder.mutation({
      query: (newTodo) => ({
        url: "todos",
        method: "POST",
        body: newTodo,
      }),
      invalidatesTags: ["Todo"], // –ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ–º –∫—ç—à TODO –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
    }),
  }),
});

export const { useGetTodosQuery, useAddTodoMutation } = todoApi;
```

---

#### 3Ô∏è‚É£ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–æ–≤ –∫ Redux Store

–ù–µ—Å–∫–æ–ª—å–∫–æ API-—Å–µ—Ä–≤–∏—Å–æ–≤ –º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å, –ø–æ–¥–∫–ª—é—á–∏–≤ –∏—Ö –∫ –æ–¥–Ω–æ–º—É Redux Store.

```tsx
// app/store.ts
import { configureStore } from "@reduxjs/toolkit";
import { userApi } from "../services/userApi";
import { todoApi } from "../services/todoApi";

export const store = configureStore({
  reducer: {
    [userApi.reducerPath]: userApi.reducer,
    [todoApi.reducerPath]: todoApi.reducer,
  },
  middleware: (getDefaultMiddleware) =>
    getDefaultMiddleware().concat(userApi.middleware, todoApi.middleware),
});

export type RootState = ReturnType<typeof store.getState>;
export type AppDispatch = typeof store.dispatch;
```

---

#### 4Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

–¢–µ–ø–µ—Ä—å —Ö—É–∫–∏, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ RTK Query, (`useGetTodosQuery`, `useGetUserByIdQuery`), –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ TODO:**

```tsx
// components/TodoList.tsx
import React from "react";
import { useGetTodosQuery, useAddTodoMutation } from "../services/todoApi";

const TodoList: React.FC = () => {
  const { data: todos, isLoading, isError } = useGetTodosQuery();
  const [addTodo] = useAddTodoMutation();

  const handleAddTodo = async () => {
    await addTodo({ title: "New Task", completed: false }).unwrap();
  };

  if (isLoading) return <p>Loading...</p>;
  if (isError) return <p>Error loading todos.</p>;

  return (
    <div>
      <h1>Todos</h1>
      <ul>
        {todos?.map((todo) => (
          <li key={todo.id}>
            {todo.title} {todo.completed ? "‚úÖ" : "‚ùå"}
          </li>
        ))}
      </ul>
      <button onClick={handleAddTodo}>Add Todo</button>
    </div>
  );
};

export default TodoList;
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**

```tsx
// components/UserProfile.tsx
import React from "react";
import { useGetUserByIdQuery } from "../services/userApi";

interface UserProfileProps {
  userId: string;
}

const UserProfile: React.FC<UserProfileProps> = ({ userId }) => {
  const { data: user, isLoading, isError } = useGetUserByIdQuery(userId);

  if (isLoading) return <p>Loading user...</p>;
  if (isError) return <p>Error loading user.</p>;

  return (
    <div>
      <h1>User Profile</h1>
      <p>Name: {user?.name}</p>
      <p>Email: {user?.email}</p>
    </div>
  );
};

export default UserProfile;
```

---

### ‚ùå –ü—Ä–∏–º–µ—Ä –ø–ª–æ—Ö–æ–π –ø—Ä–∞–∫—Ç–∏–∫–∏

**–ü—Ä—è–º—ã–µ `fetch` –∑–∞–ø—Ä–æ—Å—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**  
–¢–∞–∫–æ–π –∫–æ–¥ –¥–µ–ª–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç—è–∂–µ–ª—ã–º–∏ –∏ —É—Å–ª–æ–∂–Ω—è–µ—Ç –∏—Ö –ø–æ–¥–¥–µ—Ä–∂–∫—É:

```tsx
const TodoList = () => {
  const [todos, setTodos] = React.useState([]);
  const [isLoading, setIsLoading] = React.useState(false);

  React.useEffect(() => {
    const fetchTodos = async () => {
      setIsLoading(true);
      const response = await fetch("https://example.com/api/todos");
      const data = await response.json();
      setTodos(data);
      setIsLoading(false);
    };

    fetchTodos();
  }, []);

  if (isLoading) return <p>Loading...</p>;

  return (
    <ul>
      {todos.map((todo) => (
        <li key={todo.id}>{todo.title}</li>
      ))}
    </ul>
  );
};
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –ø–ª–æ—Ö–æ:**
1. –ù–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É API –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥.
2. –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–π —Ä–∞–∑ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –∑–∞–Ω–æ–≤–æ.
3. –°–ª–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ –Ω–µ—Ç –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –≤ —Å–µ—Ä–≤–∏—Å–µ.

---

### üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–°–µ—Ä–≤–∏—Å—ã –ø–æ —Ñ–∏—á–∞–º –∏–ª–∏ –¥–æ–º–µ–Ω–∞–º:** –†–∞–∑–¥–µ–ª—è–π—Ç–µ API –∑–∞–ø—Ä–æ—Å—ã –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä:
   ```
   - services/
     - userApi.ts
     - todoApi.ts
     - productApi.ts
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–≥–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É RTK Query** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º—É—Ç–∞—Ü–∏—è—Ö.

3. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π store:** –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∫ –æ–¥–Ω–æ–º—É Redux Store.

4. **–ù–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–π—Ç–µ –ª–æ–≥–∏–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ API –∑–∞–ø—Ä–æ—Å–∞–º–∏.** –û–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ "–≥–ª—É–ø—ã–º–∏".

---

### üéØ –í—ã–≤–æ–¥—ã:

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ **RTK Query** –¥–µ–ª–∞–µ—Ç –≤—ã–¥–µ–ª–µ–Ω–∏–µ API-—Å–µ—Ä–≤–∏—Å–æ–≤ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–º –∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º.
- –õ–æ–≥–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏, –∫–æ—Ç–æ—Ä—ã–µ –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ.
- –ü–æ–¥—Ö–æ–¥ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å, –ø–æ–≤—ã—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ) –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å.